<template>
  <div class="hello">
    <div ref="map" style="width:100%;height:100vh;"></div>
  </div>
</template>

<script>
import echarts from "echarts";
import "echarts/extension/bmap/bmap";
export default {
  name: "HelloWorld",
  props: {
    msg: String
  },
  mounted() {
    this.initMap();
  },
  methods: {
    initMap() {
      let myChart = echarts.init(this.$refs.map);
      const option = {
        bmap: {
          center: [123.448741, 41.687697],
          roam: true,
          zoom: 14
          // center: []
        },
        // series: [
        //   {
        //     type: "lines",
        //     coordinateSystem: "bmap",
        //     data: {
        //       coords: [
        //         [120, 66], // 起点
        //         [122, 67] // 终点
        //       ]
        //     }
        //   }
        // ],
        tooltip: {
          trigger: "item"
        },
        series: [
          {
            name: "very hot",
            type: "effectScatter",
            coordinateSystem: "bmap",
            data: [
              { name: "hello", value: [123.451873, 41.689769] },
              { name: "hello", value: [123.469336, 41.690039] }
            ],
            label: {
              show: true,
              formatter: "{b}",
              position: "right",
              color: "blue"
            },
            zlevel: 1
          },
          {
            type: "lines",
            coordinateSystem: "bmap",
            data: [
              [
                { coord: [123.451873, 41.689769] },
                { coord: [123.469336, 41.690039] }
              ]
            ],
            effect: {
              show: true,
              period: 2,
              trailLength: 0.8,
              symbolSize: 10,
              color: "#fff"
            },
            lineStyle: {
              width: 0
            },
            zlevel: 3
          },
          {
            zlevel: 4,
            type: "lines",
            coordinateSystem: "bmap",
            data: [
              [
                { coord: [123.451873, 41.689769] },
                { coord: [123.469336, 41.690039] }
              ]
            ],
            effect: {
              show: true,
              period: 2,
              symbol:
                "path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z",
              symbolSize: 20,
              color: "red",
              trailLength: 0
            },
            polyline: true,
            lineStyle: {
              color: "purple",
              opacity: 0.4,
              width: 1
            }
          }
        ]
      };
      myChart.setOption(option);
    }
  }
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
h3 {
  margin: 40px 0 0;
}
ul {
  list-style-type: none;
  padding: 0;
}
li {
  display: inline-block;
  margin: 0 10px;
}
a {
  color: #42b983;
}
</style>
