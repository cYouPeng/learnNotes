package io;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

public class TestBuffered {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		String fileName = "c:/student.txt";
		try {
			BufferedReader br = new BufferedReader(new FileReader(fileName));
			List<Student> list = new ArrayList<Student>();
			while(br.ready()){
				String line = br.readLine();
				String[] props = line.split("|");
				System.out.println(props);
				list.add(new Student(Integer.parseInt(props[0]), props[1], Integer.parseInt(props[2])));
			}
			br.close();
			list.add(new Student(4,"赵六",18));
//			for(String s : list){
//				System.out.println(s);
//			}
//			String s = String.join("\r\n\r\n", list);
			BufferedWriter bw = new BufferedWriter(new FileWriter("c:/student.txt"));
			for(int i=0; i<list.size();i++){
				Student s = list.get(i);
				bw.write(s.getId()+"|"+s.getName()+"|"+s.getAge());
				if(i<list.size()-1){
					bw.newLine();
				}
				
			}
			
			
			bw.close();

		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

}
class Student{
	private int id;
	private String name;
	private int age;
	public Student() {
		super();
	}
	public Student(int id, String name, int age) {
		super();
		this.id = id;
		this.name = name;
		this.age = age;
	}
	public int getId() {
		return id;
	}
	public void setId(int id) {
		this.id = id;
	}
	public String getName() {
		return name;
	}
	public void setName(String name) {
		this.name = name;
	}
	public int getAge() {
		return age;
	}
	public void setAge(int age) {
		this.age = age;
	}
	@Override
	public String toString() {
		return "Student [id=" + id + ", name=" + name + ", age=" + age + "]";
	}
	
}
